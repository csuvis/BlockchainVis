var getCookie=function(e,t,n){if(void 0===t){var a=null;if(document.cookie&&""!=document.cookie)for(var i=document.cookie.split(";"),o=0;o<i.length;o++){h=jQuery.trim(i[o]);if(h.substring(0,e.length+1)==e+"="){a=decodeURIComponent(h.substring(e.length+1));break}}return a}n=n||{},null===t&&(t="",n.expires=-1);var r,c="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(r=new Date,r.setTime(r.getTime()+24*n.expires*60*60*1e3)):r=n.expires,c="; expires="+r.toUTCString());var l=n.path?"; path="+n.path:"",s=n.domain?"; domain="+n.domain:"",g=([h,c,l,s,g].join(""),n.secure?"; secure":""),u=[e,"=",encodeURIComponent(t)].join(""),h=[u,c,l,s,g].join("");document.cookie=h},getNavLanguage=function(){if("Netscape"==navigator.appName){var e=navigator.language;return e.substr(0,2)}return!1},i18nLanguage="en",webLanguage={en:"English",zh:"中文"},execI18n=function(){if(getCookie("userLanguage")&&(i18nLanguage=getCookie("userLanguage")),null==$.i18n)return console.log("请引入i18n js 文件"),!1;jQuery.i18n.properties({name:"language",path:"/i18n/",mode:"map",language:i18nLanguage,callback:function(){console.log("i18n赋值中...");try{$("[data-i18n-placeholder]").each(function(){try{$(this).attr("placeholder",$.i18n.prop($(this).data("i18n-placeholder")))}catch(e){console.log($(this).attr("data-i18n-placeholder")),console.error(e)}}),$("[data-i18n-title]").each(function(){try{$(this).attr("title",$.i18n.prop($(this).data("i18n-title")))}catch(e){console.log($(this).attr("data-i18n-title")),console.error(e)}}),$("[data-i18n-text]").each(function(){var e=$(this).html(),t=/<(.*)>/;if(t.test(e))try{var n=t.exec(e)[0];$(this).html(n+$.i18n.prop($(this).data("i18n-text")))}catch(e){console.log($(this).attr("data-i18n-text")),console.error(e)}else try{$(this).text($.i18n.prop($(this).data("i18n-text")))}catch(e){console.log($(this).attr("data-i18n-text")),console.error(e)}}),$("[data-i18n-value]").each(function(){try{$(this).val($.i18n.prop($(this).data("i18n-value")))}catch(e){console.log($(this).attr("data-i18n-value")),console.error(e)}})}catch(e){}console.log("i18n写入完毕")}})};$(function(){execI18n(),$("#i18n-selected").text(webLanguage[i18nLanguage]),$("#i18n-en").click(function(){getCookie("userLanguage","en",{expires:30,path:"/"}),location.reload()}),$("#i18n-zh").click(function(){getCookie("userLanguage","zh",{expires:30,path:"/"}),location.reload()})});